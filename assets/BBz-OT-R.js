import{n as r}from"./CevjBdXS.js";import{M as o}from"./Ct04BUsa.js";import{_ as s,c as n,o as i}from"./C9_Dt2PN.js";import{v as c}from"./CQkTLCs1.js";const d={data(){return{transactions:[],formTarget:"create",formTargetItem:{},formTitle:"Buat Transaksi Baru",formTargetId:"",renderComponent:!0}},methods:{async rerender(){this.renderComponent=!1,await this.$nextTick(),this.renderComponent=!0},fetchData(){let t=r.localStorage.getData("transactions");this.transactions=t,console.log(this.transactions)},async openFormAddTransaction(){console.log("add");const t=document.getElementById("crud-modal"),a=new o(t);this.formTarget="create",this.formTitle="Buat Transaksi Baru",await this.rerender(),a.show()},async openFormEditTransaction(t){console.log("edit");const a=document.getElementById("crud-modal"),e=new o(a);this.formTarget="update",this.formTitle="Edit Transaksi Baru",this.formTargetId=t.id,this.formTargetItem=t,await this.rerender(),e.show()},closeModal(){const t=document.getElementById("crud-modal");new o(t).hide()},formTransaksi(t){let a=r.localStorage.getData("transactions");a||(a=[]),this.formTarget=="create"?a.push({id:c(),...t}):a=this.updateData(this.formTargetId,t),r.localStorage.setData("transactions",a,9999,"d"),this.transactions=a},removeData(t){r.localStorage.setData("transactions",this.transactions.filter(a=>a.id!==t),9999,"d"),this.fetchData()},updateData(t,a){return this.transactions.map(e=>e.id===t?{...e,...a}:e)},searchById(t){return this.transactions.find(a=>a.id===t)}},mounted(){this.fetchData()}};function m(t,a,e,l,h,f){return i(),n("div")}const B=s(d,[["render",m]]);export{B as default};
