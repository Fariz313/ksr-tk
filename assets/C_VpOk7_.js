import{_ as T,o as k,c as w,a as t,t as b,s as h,v as x,n as D,d as I,x as M,q as B,F as E,y as j}from"./D4wATeQG.js";import{M as _}from"./Cs-X99pZ.js";const C={props:{title:String,target:String,item:Object},data(){return{form:{name:"",code:"",barcode:"",category:"",price:""}}},methods:{submitEmiting(){this.$emit("submitProduct",this.form)}},mounted(){console.log("opened"),this.target!="create"&&(console.log(this.item),this.form.name=this.item.name,this.form.code=this.item.code,this.form.category=this.item.category,this.form.price=this.item.price,this.form.barcode=this.item.barcode)}},U={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},O={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},V={class:"text-lg font-semibold text-gray-900 dark:text-white"},N=t("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),$=t("span",{class:"sr-only"},"Close modal",-1),F=[N,$],q={class:"grid gap-4 mb-4 grid-cols-2"},K={class:"col-span-2"},H=t("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Nama Produk",-1),A={class:"col-span-2"},R=t("label",{for:"code",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Kode Produk",-1),J={class:"col-span-2"},z=t("label",{for:"category",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Kategori Produk",-1),L={class:"col-span-2"},G=t("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Nomor Barcode",-1),Q={class:"col-span-2"},W=t("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Harga",-1),X=t("button",{type:"submit",class:"text-white inline-flex items-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},[t("svg",{class:"me-1 -ms-1 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})]),I(" Submit ")],-1);function Y(r,e,n,o,a,s){return k(),w("div",U,[t("div",O,[t("h3",V,b(n.title)+":"+b(n.target)+" Barang Baru ",1),t("button",{onClick:e[0]||(e[0]=d=>r.$emit("closeModal")),type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"crud-modal"},F)]),t("form",{onSubmit:e[6]||(e[6]=D((...d)=>s.submitEmiting&&s.submitEmiting(...d),["prevent"])),class:"p-4 md:p-5"},[t("div",q,[t("div",K,[H,h(t("input",{"onUpdate:modelValue":e[1]||(e[1]=d=>a.form.name=d),type:"text",name:"name",id:"name",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Masukan Nama Produk",required:""},null,512),[[x,a.form.name]])]),t("div",A,[R,h(t("input",{"onUpdate:modelValue":e[2]||(e[2]=d=>a.form.code=d),type:"text",name:"code",id:"code",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Masukan Kode Produk",required:""},null,512),[[x,a.form.code]])]),t("div",J,[z,h(t("input",{"onUpdate:modelValue":e[3]||(e[3]=d=>a.form.category=d),type:"text",name:"category",id:"category",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Masukan Kategroi Produk",required:""},null,512),[[x,a.form.category]])]),t("div",L,[G,h(t("input",{"onUpdate:modelValue":e[4]||(e[4]=d=>a.form.barcode=d),type:"text",name:"barcode",id:"barcode",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Scan/Masukan Nomor Barcode",required:""},null,512),[[x,a.form.barcode]])]),t("div",Q,[W,h(t("input",{"onUpdate:modelValue":e[5]||(e[5]=d=>a.form.price=d),type:"number",name:"barcode",id:"barcode",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Masukan Harga",required:""},null,512),[[x,a.form.price]])])]),X],32)])}const Z=T(C,[["render",Y]]);(function(r){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=r,n.c=e,n.d=function(o,a,s){n.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:s})},n.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},n.t=function(o,a){if(1&a&&(o=n(o)),8&a||4&a&&typeof o=="object"&&o&&o.__esModule)return o;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:o}),2&a&&typeof o!="string")for(var d in o)n.d(s,d,(function(l){return o[l]}).bind(null,d));return s},n.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return n.d(a,"a",a),a},n.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},n.p="",n(n.s=1)})([function(r,e,n){n.d(e,"b",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"c",function(){return d}),n.d(e,"a",function(){return l});var o=function(g){return g!=null},a=function(g,u){try{var m=g.getItem(u);if(o(m)){var c=JSON.parse(m);if(o(c)){var f=new Date().getTime(),y=c.created,p=6e4;c.unit&&c.unit==="s"?p=1e3:c.unit&&c.unit==="m"?p=6e4:c.unit&&c.unit==="h"?p=36e5:c.unit&&c.unit==="d"&&(p=864e5);var S=parseInt(c.expiry,10)*p;if(parseInt(y,10)+S>f)return c.value;console.warn("storage is expired")}}}catch{console.warn("failed parse JSON")}return null},s=function(g,u){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"m";try{var y=g,p={created:new Date().getTime(),value:m,expiry:c,unit:f};return y.setItem(u,JSON.stringify(p)),p}catch{}return null},d=function(g,u){try{g.removeItem(u)}catch{}},l=function(g){try{g.clear()}catch{}}},function(r,e,n){n.r(e),n.d(e,"getData",function(){return s}),n.d(e,"setData",function(){return d}),n.d(e,"removeItem",function(){return l}),n.d(e,"clear",function(){return g});var o=n(0);function a(){return"localStorage"in window&&window.localStorage?window.localStorage:null}var s=function(u){try{var m=a();return Object(o.b)(m,u)}catch{}return null},d=function(u){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"m";try{var y=a();return Object(o.d)(y,u,m,c,f)}catch{}return null},l=function(u){try{var m=a();Object(o.c)(m,u)}catch{}},g=function(){try{var u=a();Object(o.a)(u)}catch{}}}]);let v;const ee=new Uint8Array(16);function te(){if(!v&&(v=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!v))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return v(ee)}const i=[];for(let r=0;r<256;++r)i.push((r+256).toString(16).slice(1));function re(r,e=0){return i[r[e+0]]+i[r[e+1]]+i[r[e+2]]+i[r[e+3]]+"-"+i[r[e+4]]+i[r[e+5]]+"-"+i[r[e+6]]+i[r[e+7]]+"-"+i[r[e+8]]+i[r[e+9]]+"-"+i[r[e+10]]+i[r[e+11]]+i[r[e+12]]+i[r[e+13]]+i[r[e+14]]+i[r[e+15]]}const oe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),P={randomUUID:oe};function ae(r,e,n){if(P.randomUUID&&!e&&!r)return P.randomUUID();r=r||{};const o=r.random||(r.rng||te)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,re(o)}const ne={data(){return{products:[],formTarget:"create",formTargetItem:{},formTitle:"Buat Produk Baru",formTargetId:"",renderComponent:!0}},methods:{async rerender(){this.renderComponent=!1,await this.$nextTick(),this.renderComponent=!0},fetchData(){let r=nuxtStorage.localStorage.getData("products");this.products=r,console.log(this.products)},async openFormAddProduct(){console.log("add");const r=document.getElementById("crud-modal"),e=new _(r);this.formTarget="create",this.formTitle="Buat Produk Baru",await this.rerender(),e.show()},async openFormEditProduct(r){console.log("edit");const e=document.getElementById("crud-modal"),n=new _(e);this.formTarget="update",this.formTitle="Edit Produk Baru",this.formTargetId=r.id,this.formTargetItem=r,await this.rerender(),n.show()},closeModal(){const r=document.getElementById("crud-modal");new _(r).hide()},formProduk(r){let e=nuxtStorage.localStorage.getData("products");e||(e=[]),this.formTarget=="create"?e.push({id:ae(),...r}):e=this.updateData(this.formTargetId,r),nuxtStorage.localStorage.setData("products",e,9999,"d"),this.products=e},removeData(r){nuxtStorage.localStorage.setData("products",this.products.filter(e=>e.id!==r),9999,"d"),this.fetchData()},updateData(r,e){return this.products.map(n=>n.id===r?{...n,...e}:n)},searchById(r){return this.products.find(e=>e.id===r)}},mounted(){this.fetchData()}},de=t("button",{"data-modal-target":"crud-modal",style:{display:"hidden"}},null,-1),se={id:"crud-modal",tabindex:"-1","aria-hidden":"true",class:"hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},ce={class:"relative p-4 w-full max-w-lg max-h-full"},ie={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},le={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},ue=t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[t("tr",null,[t("th",{scope:"col",class:"p-4"},[t("div",{class:"flex items-center"},[t("input",{id:"checkbox-all",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),t("label",{for:"checkbox-all",class:"sr-only"},"checkbox")])]),t("th",{scope:"col",class:"px-6 py-3"}," Nama Produk "),t("th",{scope:"col",class:"px-6 py-3"}," Kode Produk "),t("th",{scope:"col",class:"px-6 py-3"}," Barcode "),t("th",{scope:"col",class:"px-6 py-3"}," Kategori "),t("th",{scope:"col",class:"px-6 py-3"}," Harga "),t("th",{scope:"col",class:"px-6 py-3"})])],-1),ge={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},me=t("td",{class:"w-4 p-4"},[t("div",{class:"flex items-center"},[t("input",{id:"checkbox-table-1",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),t("label",{for:"checkbox-table-1",class:"sr-only"},"checkbox")])],-1),pe={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},be={class:"px-6 py-4"},fe={class:"px-6 py-4"},ye={class:"px-6 py-4"},he={class:"px-6 py-4"},xe=["onClick"],ke=["onClick"];function ve(r,e,n,o,a,s){const d=Z;return k(),w("div",null,[t("button",{onClick:e[0]||(e[0]=(...l)=>s.openFormAddProduct&&s.openFormAddProduct(...l)),class:"block text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 my-4",type:"button"}," Tambah Produk "),de,t("div",se,[t("div",ce,[a.renderComponent?(k(),M(d,{key:0,title:a.formTitle,target:a.formTarget,item:a.formTargetItem,onSubmitProduct:e[1]||(e[1]=l=>s.formProduk(l)),onCloseModal:s.closeModal},null,8,["title","target","item","onCloseModal"])):B("",!0)])]),t("div",ie,[t("table",le,[ue,t("tbody",null,[(k(!0),w(E,null,j(a.products,(l,g)=>(k(),w("tr",ge,[me,t("th",pe,b(l.name),1),t("td",be,b(l.code),1),t("td",fe,b(l.category),1),t("td",ye,b(l.price),1),t("td",he,[t("button",{type:"button",onClick:u=>s.openFormEditProduct(l),class:"text-blue-400 bg-transparent ms-4"}," EDIT ",8,xe),t("button",{type:"button",onClick:u=>s.removeData(l.id),class:"text-red-400 bg-transparent ms-4"}," DELETE ",8,ke)])]))),256))])])])])}const Pe=T(ne,[["render",ve]]);export{Pe as default};
