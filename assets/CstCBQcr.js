import{_ as h,o as i,c as n,a as e,t as c,s as u,v as m,n as y,y as f,q as k,F as x,x as _}from"./DjDGUlBe.js";import{n as g}from"./CevjBdXS.js";import{M as w}from"./Ct04BUsa.js";import{v}from"./CQkTLCs1.js";const E={props:{title:String,target:String,item:Object},data(){return{form:{name:"",code:"",barcode:"",category:"",price:""}}},methods:{submitEmiting(){this.$emit("closeModal"),this.$emit("submitProduct",this.form)}},mounted(){console.log("opened"),this.target!="create"&&(console.log(this.item),this.form.name=this.item.name,this.form.code=this.item.code,this.form.category=this.item.category,this.form.price=this.item.price,this.form.barcode=this.item.barcode)}},P={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},B={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},T={class:"text-lg font-semibold text-gray-900 dark:text-white"},C=e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),M=e("span",{class:"sr-only"},"Close modal",-1),D=[C,M],S={class:"grid gap-4 mb-4 grid-cols-2"},I={class:"col-span-2"},$=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Nama Produk",-1),F={class:"col-span-2"},V=e("label",{for:"code",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Kode Produk",-1),K={class:"col-span-2"},N=e("label",{for:"category",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Kategori Produk",-1),q={class:"col-span-2"},j=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Nomor Barcode",-1),U={class:"col-span-2"},H=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Harga",-1),A={type:"submit",class:"text-white inline-flex items-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},z=e("svg",{class:"me-1 -ms-1 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),L={key:0},O={key:1};function R(r,t,l,b,o,d){return i(),n("div",P,[e("div",B,[e("h3",T,c(l.title)+" Barang Baru ",1),e("button",{onClick:t[0]||(t[0]=a=>r.$emit("closeModal")),type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"crud-modal"},D)]),e("form",{onSubmit:t[6]||(t[6]=y((...a)=>d.submitEmiting&&d.submitEmiting(...a),["prevent"])),class:"p-4 md:p-5"},[e("div",S,[e("div",I,[$,u(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>o.form.name=a),type:"text",name:"name",id:"name",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Masukan Nama Produk",required:""},null,512),[[m,o.form.name]])]),e("div",F,[V,u(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>o.form.code=a),type:"text",name:"code",id:"code",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Masukan Kode Produk",required:""},null,512),[[m,o.form.code]])]),e("div",K,[N,u(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>o.form.category=a),type:"text",name:"category",id:"category",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Masukan Kategroi Produk",required:""},null,512),[[m,o.form.category]])]),e("div",q,[j,u(e("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>o.form.barcode=a),type:"text",name:"barcode",id:"barcode",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Scan/Masukan Nomor Barcode",required:""},null,512),[[m,o.form.barcode]])]),e("div",U,[H,u(e("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>o.form.price=a),type:"number",name:"barcode",id:"barcode",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Masukan Harga",required:""},null,512),[[m,o.form.price]])])]),e("button",A,[z,l.target=="create"?(i(),n("span",L," Submit ")):(i(),n("span",O," Edit "))])],32)])}const G=h(E,[["render",R]]),J={data(){return{products:[],formTarget:"create",formTargetItem:{},formTitle:"Buat Produk Baru",formTargetId:"",renderComponent:!0,targetEl:"",modal:""}},methods:{async rerender(){this.renderComponent=!1,await this.$nextTick(),this.renderComponent=!0},fetchData(){let r=g.localStorage.getData("products");this.products=r},async openFormAddProduct(){console.log("add"),this.targetEl=document.getElementById("crud-modal"),this.formTarget="create",this.formTitle="Buat Produk Baru",await this.rerender(),this.modal.show()},async openFormEditProduct(r){console.log("edit"),this.targetEl=document.getElementById("crud-modal"),this.formTarget="update",this.formTitle="Edit Produk Baru",this.formTargetId=r.id,this.formTargetItem=r,await this.rerender(),this.modal.show()},closeModal(){this.targetEl=document.getElementById("crud-modal"),this.modal.hide()},formProduk(r){let t=g.localStorage.getData("products");t||(t=[]),this.formTarget=="create"?t.push({id:v(),...r}):t=this.updateData(this.formTargetId,r),g.localStorage.setData("products",t,9999,"d"),this.products=t},removeData(r){g.localStorage.setData("products",this.products.filter(t=>t.id!==r),9999,"d"),this.fetchData()},updateData(r,t){return this.products.map(l=>l.id===r?{...l,...t}:l)},searchById(r){return this.products.find(t=>t.id===r)}},mounted(){this.targetEl=document.getElementById("crud-modal"),this.modal=new w(this.targetEl),this.fetchData()}},Q=e("button",{"data-modal-target":"crud-modal",style:{display:"hidden"}},null,-1),W={id:"crud-modal",tabindex:"-1","aria-hidden":"true",class:"hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},X={class:"relative p-4 w-full max-w-lg max-h-full"},Y={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},Z={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},ee=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"p-4"},[e("div",{class:"flex items-center"},[e("input",{id:"checkbox-all",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e("label",{for:"checkbox-all",class:"sr-only"},"checkbox")])]),e("th",{scope:"col",class:"px-6 py-3"}," Nama Produk "),e("th",{scope:"col",class:"px-6 py-3"}," Kode Produk "),e("th",{scope:"col",class:"px-6 py-3"}," Barcode "),e("th",{scope:"col",class:"px-6 py-3"}," Kategori "),e("th",{scope:"col",class:"px-6 py-3"}," Harga "),e("th",{scope:"col",class:"px-6 py-3"}," Stock "),e("th",{scope:"col",class:"px-6 py-3"})])],-1),te={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},re=e("td",{class:"w-4 p-4"},[e("div",{class:"flex items-center"},[e("input",{id:"checkbox-table-1",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e("label",{for:"checkbox-table-1",class:"sr-only"},"checkbox")])],-1),oe={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},ae={class:"px-6 py-4"},se={class:"px-6 py-4"},de={class:"px-6 py-4"},le={class:"px-6 py-4"},ce={class:"px-6 py-4"},ie={class:"px-6 py-4"},ne=["onClick"],ue=["onClick"],me=["onClick"];function ge(r,t,l,b,o,d){const a=G;return i(),n("div",null,[e("button",{onClick:t[0]||(t[0]=(...s)=>d.openFormAddProduct&&d.openFormAddProduct(...s)),class:"block text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 my-4",type:"button"}," Tambah Produk "),Q,e("div",W,[e("div",X,[o.renderComponent?(i(),f(a,{key:0,title:o.formTitle,target:o.formTarget,item:o.formTargetItem,onSubmitProduct:t[1]||(t[1]=s=>d.formProduk(s)),onCloseModal:d.closeModal},null,8,["title","target","item","onCloseModal"])):k("",!0)])]),e("div",Y,[e("table",Z,[ee,e("tbody",null,[(i(!0),n(x,null,_(o.products,(s,pe)=>(i(),n("tr",te,[re,e("th",oe,c(s.name),1),e("td",ae,c(s.code),1),e("td",se,c(s.barcode),1),e("td",de,c(s.category),1),e("td",le," Rp."+c(r.$commafy(s.price)),1),e("td",ce,c(s.category),1),e("td",ie,[e("button",{type:"button",onClick:p=>d.openFormEditProduct(s),class:"text-blue-400 bg-transparent ms-4"}," STOCK ",8,ne),e("button",{type:"button",onClick:p=>d.openFormEditProduct(s),class:"text-yellow-400 bg-transparent ms-4"}," EDIT ",8,ue),e("button",{type:"button",onClick:p=>d.removeData(s.id),class:"text-red-400 bg-transparent ms-4"}," DELETE ",8,me)])]))),256))])])])])}const ke=h(J,[["render",ge]]);export{ke as default};
