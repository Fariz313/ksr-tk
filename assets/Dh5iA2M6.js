import{_ as b,o as u,c as g,a as e,t as l,s as i,v as n,n as y,d as f,y as k,q as x,F as _,x as w}from"./DQAGpUx6.js";import{n as m}from"./CevjBdXS.js";import{M as v}from"./Ct04BUsa.js";import{v as E}from"./CQkTLCs1.js";const P={props:{title:String,target:String,item:Object},data(){return{form:{name:"",code:"",barcode:"",category:"",price:""}}},methods:{submitEmiting(){this.$emit("closeModal"),this.$emit("submitProduct",this.form)}},mounted(){console.log("opened"),this.target!="create"&&(console.log(this.item),this.form.name=this.item.name,this.form.code=this.item.code,this.form.category=this.item.category,this.form.price=this.item.price,this.form.barcode=this.item.barcode)}},T={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},B={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},C={class:"text-lg font-semibold text-gray-900 dark:text-white"},M=e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),D=e("span",{class:"sr-only"},"Close modal",-1),S=[M,D],I={class:"grid gap-4 mb-4 grid-cols-2"},$={class:"col-span-2"},F=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Nama Produk",-1),V={class:"col-span-2"},N=e("label",{for:"code",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Kode Produk",-1),K={class:"col-span-2"},q=e("label",{for:"category",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Kategori Produk",-1),j={class:"col-span-2"},U=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Nomor Barcode",-1),H={class:"col-span-2"},A=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Harga",-1),z=e("button",{type:"submit",class:"text-white inline-flex items-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},[e("svg",{class:"me-1 -ms-1 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})]),f(" Submit ")],-1);function L(r,t,c,h,o,d){return u(),g("div",T,[e("div",B,[e("h3",C,l(c.title)+" Barang Baru ",1),e("button",{onClick:t[0]||(t[0]=a=>r.$emit("closeModal")),type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"crud-modal"},S)]),e("form",{onSubmit:t[6]||(t[6]=y((...a)=>d.submitEmiting&&d.submitEmiting(...a),["prevent"])),class:"p-4 md:p-5"},[e("div",I,[e("div",$,[F,i(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>o.form.name=a),type:"text",name:"name",id:"name",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Masukan Nama Produk",required:""},null,512),[[n,o.form.name]])]),e("div",V,[N,i(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>o.form.code=a),type:"text",name:"code",id:"code",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Masukan Kode Produk",required:""},null,512),[[n,o.form.code]])]),e("div",K,[q,i(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>o.form.category=a),type:"text",name:"category",id:"category",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Masukan Kategroi Produk",required:""},null,512),[[n,o.form.category]])]),e("div",j,[U,i(e("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>o.form.barcode=a),type:"text",name:"barcode",id:"barcode",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Scan/Masukan Nomor Barcode",required:""},null,512),[[n,o.form.barcode]])]),e("div",H,[A,i(e("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>o.form.price=a),type:"number",name:"barcode",id:"barcode",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Masukan Harga",required:""},null,512),[[n,o.form.price]])])]),z],32)])}const O=b(P,[["render",L]]),R={data(){return{products:[],formTarget:"create",formTargetItem:{},formTitle:"Buat Produk Baru",formTargetId:"",renderComponent:!0,targetEl:"",modal:""}},methods:{async rerender(){this.renderComponent=!1,await this.$nextTick(),this.renderComponent=!0},fetchData(){let r=m.localStorage.getData("products");this.products=r},async openFormAddProduct(){console.log("add"),this.targetEl=document.getElementById("crud-modal"),this.formTarget="create",this.formTitle="Buat Produk Baru",await this.rerender(),this.modal.show()},async openFormEditProduct(r){console.log("edit"),this.targetEl=document.getElementById("crud-modal"),this.formTarget="update",this.formTitle="Edit Produk Baru",this.formTargetId=r.id,this.formTargetItem=r,await this.rerender(),this.modal.show()},closeModal(){this.targetEl=document.getElementById("crud-modal"),this.modal.hide()},formProduk(r){let t=m.localStorage.getData("products");t||(t=[]),this.formTarget=="create"?t.push({id:E(),...r}):t=this.updateData(this.formTargetId,r),m.localStorage.setData("products",t,9999,"d"),this.products=t},removeData(r){m.localStorage.setData("products",this.products.filter(t=>t.id!==r),9999,"d"),this.fetchData()},updateData(r,t){return this.products.map(c=>c.id===r?{...c,...t}:c)},searchById(r){return this.products.find(t=>t.id===r)}},mounted(){this.targetEl=document.getElementById("crud-modal"),this.modal=new v(this.targetEl),console.log(this.targetEl),this.fetchData()}},G=e("button",{"data-modal-target":"crud-modal",style:{display:"hidden"}},null,-1),J={id:"crud-modal",tabindex:"-1","aria-hidden":"true",class:"hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},Q={class:"relative p-4 w-full max-w-lg max-h-full"},W={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},X={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},Y=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"p-4"},[e("div",{class:"flex items-center"},[e("input",{id:"checkbox-all",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e("label",{for:"checkbox-all",class:"sr-only"},"checkbox")])]),e("th",{scope:"col",class:"px-6 py-3"}," Nama Produk "),e("th",{scope:"col",class:"px-6 py-3"}," Kode Produk "),e("th",{scope:"col",class:"px-6 py-3"}," Barcode "),e("th",{scope:"col",class:"px-6 py-3"}," Kategori "),e("th",{scope:"col",class:"px-6 py-3"}," Harga "),e("th",{scope:"col",class:"px-6 py-3"}," Stock "),e("th",{scope:"col",class:"px-6 py-3"})])],-1),Z={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},ee=e("td",{class:"w-4 p-4"},[e("div",{class:"flex items-center"},[e("input",{id:"checkbox-table-1",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e("label",{for:"checkbox-table-1",class:"sr-only"},"checkbox")])],-1),te={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},re={class:"px-6 py-4"},oe={class:"px-6 py-4"},ae={class:"px-6 py-4"},se={class:"px-6 py-4"},de={class:"px-6 py-4"},le={class:"px-6 py-4"},ce=["onClick"],ie=["onClick"],ne=["onClick"];function ue(r,t,c,h,o,d){const a=O;return u(),g("div",null,[e("button",{onClick:t[0]||(t[0]=(...s)=>d.openFormAddProduct&&d.openFormAddProduct(...s)),class:"block text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 my-4",type:"button"}," Tambah Produk "),G,e("div",J,[e("div",Q,[o.renderComponent?(u(),k(a,{key:0,title:o.formTitle,target:o.formTarget,item:o.formTargetItem,onSubmitProduct:t[1]||(t[1]=s=>d.formProduk(s)),onCloseModal:d.closeModal},null,8,["title","target","item","onCloseModal"])):x("",!0)])]),e("div",W,[e("table",X,[Y,e("tbody",null,[(u(!0),g(_,null,w(o.products,(s,me)=>(u(),g("tr",Z,[ee,e("th",te,l(s.name),1),e("td",re,l(s.code),1),e("td",oe,l(s.barcode),1),e("td",ae,l(s.category),1),e("td",se," Rp."+l(r.$commafy(s.price)),1),e("td",de,l(s.category),1),e("td",le,[e("button",{type:"button",onClick:p=>d.openFormEditProduct(s),class:"text-blue-400 bg-transparent ms-4"}," STOCK ",8,ce),e("button",{type:"button",onClick:p=>d.openFormEditProduct(s),class:"text-yellow-400 bg-transparent ms-4"}," EDIT ",8,ie),e("button",{type:"button",onClick:p=>d.removeData(s.id),class:"text-red-400 bg-transparent ms-4"}," DELETE ",8,ne)])]))),256))])])])])}const ye=b(R,[["render",ue]]);export{ye as default};
